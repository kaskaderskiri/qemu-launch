## QEMU Launch

Интерактивный лаунчер для QEMU/KVM: создание/выбор дисков, ISO/IMG, RAM/CPU, прошивка BIOS/UEFI, сеть (NAT с пробросом 2222, tap), USB passthrough, снапшоты qcow2, профили конфигураций.

### Требования
- Linux с поддержкой KVM
- Пакеты: `qemu-system-*`, `qemu-kvm`, `jq`, `fzf`, `qemu-img`, `lsusb`, `udevadm`, `lsblk`, (для UEFI) `edk2-ovmf`
- Пользователь в группе `kvm`; `sudo` для запуска QEMU

### Структура
- `stable/stable1/qemu-launch.sh` — стабильный вариант
- `stable/stable2/qemu-launch.sh` — стабильный вариант
- `stable/stable3/qemu-launch.sh` — актуальный стабильный вариант

### Быстрый старт
```bash
bash qemu-launch.sh
```

### Что умеет
- Диски: создать qcow2, выбрать существующий, указать блочное устройство; интерфейсы `virtio/sata/scsi`, кэш `none/writeback/writethrough`, авто-определение формата.
- ISO/IMG: поиск по каталогам через `fzf`.
- Память/CPU: ввод RAM (по умолчанию 2G) и ядра CPU (по умолчанию 2).
- Прошивка: BIOS или UEFI (через `edk2-ovmf`).
- Сеть: NAT (`-net user,hostfwd=tcp::2222-:22 -net nic`), tap `tap0`, либо без сети.
- USB: passthrough через `usb-host` (по bus/addr или vid/pid); USB‑накопители как SATA.
- Снапшоты: создание/удаление/загрузка/дерево для qcow2.
- Профили: сохранить/загрузить в `~/.config/qemu-launch/profiles.json` (через `jq`).
- Архитектура: выбор `qemu-system-*` через `fzf`.

### Пример сценария
1. Запустите скрипт и в меню добавьте диск: создать qcow2 или выбрать существующий.
2. Укажите ISO/IMG установочного образа.
3. Задайте RAM и число CPU.
4. Выберите BIOS или UEFI (если установлен `edk2-ovmf`).
5. Настройте сеть (NAT с пробросом 2222 для SSH). 
6. При необходимости выберите USB‑устройства.
7. Стартуйте ВМ и, при желании, сохраните конфигурацию как профиль.

### Профили
Хранятся в `~/.config/qemu-launch/profiles.json`. Сохраняются: диски (путь/интерфейс/кэш/формат), ISO, RAM, CPU, прошивка, сеть, KVM, USB, выбранный `qemu-system-*`.

### Подсказки
- Образы дисков держите вне репозитория.
- Для UEFI проверьте путь `OVMF.4m.fd` (например, `/usr/share/edk2-ovmf/x64/OVMF.4m.fd`).
- Если KVM недоступен, скрипт запустит QEMU без `-enable-kvm`.

### Важно
- Если вы заметили баг, или недоразумение в работе скрипта, пожалуйста, сообщите это автору в Issue. 

